[{"content":"After installing a CentOS 7 system and updating the repositories, you usually need to update packages. However, for some reason, one of these times, a package decided to become corrupted. Specifically, the package initial-setup-0.3.9.30-1.el7.centos.x86_64.\nWhen corrupted, during the process of cleaning up old versions after updating packages, it fails to delete itself, causing the update process to \u0026ldquo;freeze.\u0026rdquo; At this point, you might not know whether it is still working or has stopped.\nTo check if it has actually stopped or is still running, execute the following:\ntop After running this command, you should see some process associated with yum. If there isn\u0026rsquo;t one, then the process has stopped. Now run:\nps aux | grep yum This checks if there are any threads associated with the task. If you see at least two, then it confirms the process is stuck.\nSolution To resolve this issue, follow these steps:\nElevate to administrator privileges\nLog in as root using su -.\nFind the process ID of interest\nFrom the output of the last command (ps aux | grep yum), you should see something like this:\nroot 176466 13.4 0.8 1248256 133756 pts/2 S+ 15:59 0:02 /usr/bin/python /bin/yum install gedit root 176645 0.0 0.0 112836 980 pts/1 S+ 16:00 0:00 grep --color=auto yum The first process is the one we are interested in, as it lists the command at the end of the line, in this case, yum install gedit.\nKill the process\nTerminate the process since it is not doing anything. You will need its identifier, which is the first number in the process line from the output above, right next to the username. In this case, it is 176466.\nkill -9 [process-id] Remove the problematic package\nIt is assumed that the problematic package is the one listed last in the update log. Since initial-setup is only needed during the OS installation, it can be safely removed. Try:\nyum remove initial-setup If this doesn\u0026rsquo;t work, forcibly remove the package without using system scripts:\nrpm -e --noscripts initial-setup-0.3.9.30-1.el7.centos.x86_64 rpm -e --noscripts initial-setup-0.3.9.45-1.el7.centos.x86_64 Rebuild the RPM database\nRun the following:\nyum clean all rm -f /var/lib/rpm/__bd* rpm --rebuilddb At this point, you should be able to update your system without issues by running yum update -y.\nRelated Articles If you\u0026rsquo;re installing CentOS and encountering issues, these articles might also interest you:\nOutdated Repositories in CentOS 7 ","permalink":"https://cheshytech.github.io/en/posts/centos-7-frozen-package-update/","relpermalink":"/en/posts/centos-7-frozen-package-update/","summary":"\u003cp\u003eAfter installing a CentOS 7 system and updating the repositories, you usually need to update packages. However, for some reason, one of these times, a package decided to become corrupted. Specifically, the package \u003ccode\u003einitial-setup-0.3.9.30-1.el7.centos.x86_64\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eWhen corrupted, during the process of cleaning up old versions after updating packages, it fails to delete itself, causing the update process to \u0026ldquo;freeze.\u0026rdquo; At this point, you might not know whether it is still working or has stopped.\u003c/p\u003e","title":"CentOS Frozen Package Update"},{"content":"Some CentOS distributions can be a headache to install and configure, especially considering there are deprecated versions that no longer have support. CentOS 7 is one of them. I have created a series of articles, of which I would consider this the first, related to issues that may arise in such installations.\nThe CentOS 7 repositories are no longer available at their original locations (the URLs have changed). This causes errors when trying to update system packages or install new ones, such as the following:\nLoaded plugins:fastestmirror, langpacks Loading mirror speeds from cached hostfile Could not retrieve mirrorlist http://mirrorlist.centos.org/?release=7\u0026amp;arch=x86_64\u0026amp;repo=os\u0026amp;infra=stock error was 14: curl#6 - \u0026#34;Could not resolve host: mirrorlist.centos.org; Unknown name or service\u0026#34; One of the configured repositories failed (Unknown), and yum doesn\u0026#39;t have enough cached data to continue. At this point the only safe thing yum can do is fail. There are a few ways to work \u0026#34;fix\u0026#34; this: 1. Contact the upstream for the repository and get them to fix the problem. 2. Reconfigure the baseurl/etc. for the repository, to point to a working upstream. This is most often useful if you are using a newer distribution release than is supported by the repository (and the packages for the previous distribution release still work). 3. Run the command with the repository temporarily disabled yum --disablerepo=\u0026lt;repoid\u0026gt; ... 4. Disable the repository permanently, so yum won\u0026#39;t use it by default. Yum will then just ignore the repository until you permanently enable it again or use --enablerepo for temporary usage: yum-config-manager --disable \u0026lt;repoid\u0026gt; or subscription-manager repos --disable=\u0026lt;repoid\u0026gt; 5. Configure the failing repository to be skipped, if it is unavailable. Note that yum will try to contact the repo. when it runs most commands, so will have to try and fail each time (and thus. yum will be be much slower). If it is a very temporary problem though, this is often a nice compromise: yum-config-manager --save --setopt=\u0026lt;repoid\u0026gt;.skip_if_unavailable=true Cannot find a valid baseurl for repo: base/7/x86_64 Solution To resolve this issue, follow these steps:\nElevate to administrator privileges\nLog in as root using su -.\nAccess the repository configuration directory\nNavigate to /etc/yum.repos.d, where the repositories used by the system to update or download packages are defined.\nWhy use repositories instead of installing manually?\nRepositories ensure that packages are reliable, up-to-date, and compatible with the system. If we install them manually, this reliability is lost.\nBackup the configuration file\nMake a backup of the CentOS-Base.repo file before modifying it:\nmv CentOS-Base.repo CentOS-Base.repo.bck Create a new configuration file\nOpen a text editor to create a new file with the same name:\nnano CentOS-Base.repo Add the updated content\nCopy and paste the following content into the file:\n[base] name=CentOS-$releasever - Base baseurl=https://vault.centos.org/7.9.2009/os/$basearch/ gpgcheck=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 enabled=1 [updates] name=CentOS-$releasever - Updates baseurl=https://vault.centos.org/7.9.2009/updates/$basearch/ gpgcheck=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 enabled=1 [extras] name=CentOS-$releasever - Extras baseurl=https://vault.centos.org/7.9.2009/extras/$basearch/ gpgcheck=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 enabled=1 [centosplus] name=CentOS-$releasever - CentOSPlus baseurl=https://vault.centos.org/7.9.2009/centosplus/$basearch/ gpgcheck=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 enabled=0 Update system packages\nRun the following command to verify everything works:\nyum update If everything works, your CentOS 7 will be ready for use.\nRelated Articles If you\u0026rsquo;re installing CentOS and encountering issues, these articles might also interest you:\nCentos 7 frozen package update ","permalink":"https://cheshytech.github.io/en/posts/outdated-repositories-centos-7/","relpermalink":"/en/posts/outdated-repositories-centos-7/","summary":"\u003cp\u003eSome CentOS distributions can be a headache to install and configure, especially considering there are deprecated versions that no longer have support. CentOS 7 is one of them. I have created a series of articles, of which I would consider this the first, related to issues that may arise in such installations.\u003c/p\u003e\n\u003cp\u003eThe CentOS 7 repositories are no longer available at their original locations (the URLs have changed). This causes errors when trying to update system packages or install new ones, such as the following:\u003c/p\u003e","title":"Outdated CentOS Repositories"},{"content":"Introduction Hi there, welcome to my first article! In this initial post, I want to start from the beginning, explaining some basics so that what I publish later makes more sense. Here, I\u0026rsquo;ll talk about what Linux is, why it\u0026rsquo;s used, and how to choose one of the many existing distributions.\nWhy Linux? Linux is a free and flexible operating system used by millions of people around the world. As a systems administrator, I work with different Linux distributions, which gradually helps me learn interesting things by banging my head against the wall. In this article, I\u0026rsquo;ll talk a bit about what Linux is and how you can start working with it.\nMain Features of Linux: Open Source: Linux is open source, meaning anyone can view, modify, and distribute it. This gives you a lot of control over the system since you can tweak and modify it entirely (and break it too). Stability: It is known for its stability and reliability. Active Community: There is a large community of users and developers constantly contributing to its evolution. Linux Distributions Since we can\u0026rsquo;t do much without a system, the first step will be to install the operating system. There are tons of different Linux distributions, all of them with a similar base. Generally, the choice of distribution is more about personal preference than anything else, although there are very specific distributions for working in certain areas. Here\u0026rsquo;s a summary table of the main Linux distributions and their primary uses.\nðŸ“‹ Summary Table Distribution Main Features Common Uses Debian Stable, very robust, focused on stability over novelty. Large community. Servers, critical systems, base for other distros (like Ubuntu). Ubuntu Based on Debian. More user-friendly, with regular release cycles. Lots of support and community. Desktop, servers, development, containers (Docker, WSL). Linux Mint Based on Ubuntu. Very focused on user experience, especially for those coming from Windows. Desktop, beginners, or users who want something that works \u0026ldquo;out of the box.\u0026rdquo; Arch Linux Rolling release (always up-to-date), highly customizable, excellent documentation (Arch Wiki). Advanced users, those who want to learn the system from the ground up. Manjaro Based on Arch, but easier to install and use. Includes graphical tools. Desktop with access to the latest features, without the complexity of pure Arch. Fedora Sponsored by Red Hat. New technologies, fast support, very developer-focused. Software development, modern desktop, testing technologies before they reach RHEL. RHEL (Red Hat Enterprise Linux) Commercial distribution, enterprise support, stable and certified. Enterprise servers, critical systems, production environments. Rocky Linux / AlmaLinux 100% compatible and free RHEL clones, designed to replace CentOS. Enterprise servers without license costs. openSUSE Two versions: Leap (stable) and Tumbleweed (rolling). Great administration tools (YaST). Desktop, development, servers. Kali Linux Based on Debian. Includes pentesting and cybersecurity tools. Security auditors, pentesters, ethical hacking training. Parrot OS Similar to Kali, but lighter and also focused on privacy. Cybersecurity, forensic analysis, privacy. Alpine Linux Very lightweight and secure, based on musl and busybox. Popular in containers. Docker containers, embedded systems. ðŸ§­ Quick Classification by Use Case Category Typical Distributions End User (Desktop) Ubuntu, Linux Mint, Manjaro, Fedora Workstation Servers / Enterprises Debian, Ubuntu Server, RHEL, Rocky, Alma, openSUSE Leap Cybersecurity Kali Linux, Parrot OS Minimalist / Containers Alpine Linux, Arch Linux Rolling Release Arch, Manjaro, openSUSE Tumbleweed Conclusion Linux is a great choice for those looking for a robust, secure, and customizable operating system. Personally, having used several of these distributions, I couldn\u0026rsquo;t pick a favorite. I have a special fondness for Debian because it\u0026rsquo;s the one I\u0026rsquo;ve worked with the most, but I also really like Linux Mint for personal use.\nIf you found this article interesting, I\u0026rsquo;ll be posting more articles related to the Linux world, starting with more general topics and also diving into more specific issues and common challenges with current and legacy systems.\nThank you for reading! If you liked it and want to share your thoughts or simply have a suggestion, feel free to email me at cheshytech.contact@gmail.com ðŸ¤—\n","permalink":"https://cheshytech.github.io/en/posts/what-distro-should-i-choose/","relpermalink":"/en/posts/what-distro-should-i-choose/","summary":"\u003ch1 id=\"introduction\"\u003eIntroduction\u003c/h1\u003e\n\u003cp\u003eHi there, welcome to my first article! In this initial post, I want to start from the beginning, explaining some basics so that what I publish later makes more sense. Here, I\u0026rsquo;ll talk about what Linux is, why it\u0026rsquo;s used, and how to choose one of the many existing distributions.\u003c/p\u003e\n\u003ch2 id=\"why-linux\"\u003eWhy Linux?\u003c/h2\u003e\n\u003cp\u003eLinux is a free and flexible operating system used by millions of people around the world. As a systems administrator, I work with different Linux distributions, which gradually helps me learn interesting things by banging my head against the wall. In this article, I\u0026rsquo;ll talk a bit about what Linux is and how you can start working with it.\u003c/p\u003e","title":"Quick Introduction to Linux Systems. Which Distro Should I Choose?"}]